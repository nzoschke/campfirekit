<html>
  <head>
    <title>CampfireKit</title>

    <style>
      /* Clone the look and feel of "chrome://" pages. */
      body {
        margin: 10px;
        font: 84% Arial, sans-serif
      }

      h1 { font-size: 156% }

      h1 img {
        margin: 1px 5px 0 1px;
        vertical-align: middle
      }

      h2 {
        border-top: 1px solid #9cc2ef;
        background-color: #ebeff9;
        padding: 3px 5px;
        font-size: 100%
      }

      .small { font-size: 50%; }

      table td { padding-bottom: 10px; }
    </style>

    <script type="text/javascript">
      function restoreOptions() {
        options.isActivated.checked = JSON.parse(localStorage.isActivated);
        options.apiToken.value      = localStorage.apiToken || '';
        options.phrases.value       = localStorage.phrases || '';
      }
    
      function saveOptions(e) {
        localStorage.isActivated = options.isActivated.checked;
        localStorage.apiToken    = options.apiToken.value;
        localStorage.phrases     = options.phrases.value;
        options.save.value       = 'Settings Saved.'
      }
    </script>
  </head>

  <body onload="restoreOptions()">
    <h1>
      <img src="64.png" alt="Toast">
      CampfireKit
    </h1>
    <h2>Options</h2>
    <div id="status"></div>
    <form id="options">
    <table>
      <tr>
        <td>Display Notifications?</td>
        <td><input type="checkbox" name="isActivated"></td>
      </tr>
      <tr>
        <td>
          Campfire API Token
          <div class="small">Available at <a href="https://blossom.campfirenow.com/member/edit" target="_blank">campfirenow.com</a></div>
        </td>
        <td><input type="text" name="apiToken" size="51" /></td>
      </tr>
      <tr>
        <td>
          Notification Phrases
          <div class="small">Newline delimited, case insensitive regexes</div>
        </td>
        <td><textarea name="phrases" rows="10" cols="50"></textarea>
      </tr>
      <tr>
        <td colspan="2"><input id="save" type="submit" value="Save" onclick="saveOptions(); return false;" /></td>
      </tr>
    </table>
    </form>
  </body>
</html>